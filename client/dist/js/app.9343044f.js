(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],d=0,v=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(v.length)v.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},r={app:0},a=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"034f":function(e,t,s){"use strict";var n=s("85ec"),r=s.n(n);r.a},"11f4":function(e,t,s){"use strict";var n=s("2b4b"),r=s.n(n);r.a},"2b4b":function(e,t,s){},"39ee":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABPUlEQVRYR+2Wyw3CMAyGnS0YhDMTVD3DIgzBInCumKBnBmGLoKRxMUmcN0RI7aWq8vDX33/sCOj8iM7xYQNIVUB6UsWtzZmbnAIpnxPAY9QcYlhejH/WubcZ4HQJzq0CYP0r78tQC4BVTtw059QQAFzmqBbzgNSB99M7rklDCogCwIdLRTpARmAbLpSKPwEgv4SyHg9uErixegW6A6AJLR9Qk/kUQe56BRgAPOuh4LF6kG5CtRNRgOY7xRfFx1DFLSlCHvm95TumgI7fCMAbKwagS3EjgCIFnC5od0WEUx3SN4b+KPaAs6nVlmMA9afADtgbwC7AVAFurK4QkT9OacG+ORtAMwXMZfRD5Z96AM+62I26OOlvcwENjTVVgFZFB8DA6JI3AFzPDe6Epc5n1mXfihvHd7eLNaOvA7wAweT2IZI6wiEAAAAASUVORK5CYIIA"},"48f6":function(e,t,s){var n={"./businessOneManager.gif":"a29a","./businessThreeManager.gif":"6616","./businessTwoManager.gif":"f4e2"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="48f6"},6616:function(e,t,s){e.exports=s.p+"img/businessThreeManager.945a9f9d.gif"},"85ec":function(e,t,s){},"965b":function(e,t,s){var n={"./businessOne.png":"d8f9","./businessThree.png":"39ee","./businessTwo.png":"99df"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="965b"},"99df":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABiElEQVRYR8WXvU4DMQzHnY2bGZCYKvEkbAgmnoGBTiwgBG+ARFmYysAzdGKlTwBvAFQMSAydu2Hk6/ma5JLW8aV3WU5p/PHzP657NdDzMj3nBxXAYgJYnOp8/YLVADtHAKZoD9EKgKtpAyIBQF+2xQSAFLCXKaLdtDaHCOBj78KJvj9+LPc+xOfAtTv4Le1UAE7VPgBFlUBUAI5Q0ibEr+ORY/v39t3QmCHsg5+hqwKfxdSIyYN4/wqz6btoTITgfEcVAAWRQoRIbTA1gEiCyigEyxCdAIQU6xyAFbPVIAidAleHy3ij6fLJe/uzyB0RwODlEmYnD7AdADtxCJD7Qg2AjQmc0o+1rV6BTABMYkw5chpzJzqIyBozQVTJkwCq/HmuIVZ9kMi6aMysQFDtdT+VecpfVZQMwK44nqezDK9vAZ7vNqkseqerAc53DTzNEejJK7Sns60DUGJePlAvADZQJwC9XEHKLM7aA3B2k5J7ZZvrW6DLXnupXstb5pS7S/6YyKMpLP8BWLjcIU9Dl0IAAAAASUVORK5CYIIA"},a29a:function(e,t,s){e.exports=s.p+"img/businessOneManager.caad7aaf.gif"},cd49:function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[e._v("Current Score: "+e._s(e.totalScore)+" ")]),s("li",{staticClass:"list-group-item"},[e._v("Bank Balance: $"+e._s(e.totalCoins))])])])]),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col"},[s("Business",{attrs:{businessId:"businessOne",totalCoins:e.totalCoins},on:{updateCoins:function(t){return e.updateCoins(t)},levelUp:function(t){return e.levelUp("businessOne")}}})],1),s("div",{staticClass:"col"},[s("Business",{attrs:{businessId:"businessTwo",totalCoins:e.totalCoins},on:{updateCoins:function(t){return e.updateCoins(t)},levelUp:function(t){return e.levelUp("businessTwo")}}})],1),s("div",{staticClass:"col"},[s("Business",{attrs:{businessId:"businessThree",totalCoins:e.totalCoins},on:{updateCoins:function(t){return e.updateCoins(t)},levelUp:function(t){return e.levelUp("businessThree")}}})],1),s("div",{staticClass:"col"},[s("h2",[e._v("Top Jellyfish Capitalists:")]),s("table",{staticClass:"table table-striped table-dark",attrs:{id:"ranking"}},[e._m(1),s("tbody",e._l(e.ranking,(function(t,n){return s("tr",{key:n},[s("th",{attrs:{scope:"row"}},[e._v(e._s(n+1))]),s("td",[e._v(e._s(t.name))]),s("td",[e._v(e._s(t.score))])])})),0)])])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("img",{attrs:{alt:"",src:s("a29a")}}),n("img",{attrs:{alt:"",src:s("f4e2")}}),n("img",{attrs:{alt:"",src:s("6616")}}),n("h1",[e._v("✨Jellyfish Capitalist✨")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[e._v("Rank")]),s("th",{attrs:{scope:"col"}},[e._v("Name")]),s("th",{attrs:{scope:"col"}},[e._v("Score")])])])}],i=(s("4de4"),s("caad"),s("a9e3"),s("b680"),s("b64b"),s("2532"),s("b85c")),o=(s("96cf"),s("1da1")),c=s("d4ec"),u=s("bee2"),l=s("262e"),d=s("2caf"),v=s("9ab4"),p=s("60a3"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card text-center",staticStyle:{width:"300px"}},[s("div",{staticClass:"card-header"},[s("img",{attrs:{src:e.getFullImgPath()}}),e._v(" "+e._s(e.businessName)+" "),s("img",{attrs:{src:e.getFullImgPath()}})]),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text"},[e._v(" earns $"+e._s(e.stats.coinsEarnedPerHarvest)+" every "+e._s(e.stats.msPerHarvest/1e3)+" seconds ")]),s("button",{staticClass:"btn btn-info",class:{disabled:e.notReadyToCollect},attrs:{type:"button"},on:{click:e.emitEarnedCoins}},[e._v(" "+e._s(e.stats.isAutomated?"automated♪":"Collect")+" ")]),s("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:!(e.totalCoins>=e.stats.coinsToLevelUp)},on:{click:e.levelUp}},[e._v(" Level Up (Costs $"+e._s(e.stats.coinsToLevelUp)+") ")])]),s("div",{staticClass:"card-footer text-muted"},[e._v(" Level: "+e._s(e.stats.level)+" ")]),s("div",{staticClass:"card-footer text-muted"},[e.stats.isAutomated?s("div",[e._v(" Manager: "),s("img",{attrs:{src:e.getFullManagerImgPath()}})]):s("button",{attrs:{type:"button",disabled:e.totalCoins<e.costToHireManager},on:{click:e.hireManager}},[e._v(" Hire manager for $"+e._s(e.costToHireManager)+" ")])])])},b=[],h=(s("b0c0"),s("ade3")),g=s("5530"),A=s("53ca"),m=["updatedAt","userId","totalCoins","totalScore","businessOne","businessTwo","businessThree"];function C(){return localStorage.getItem("userId")}function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,s={},n=Object(i["a"])(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=localStorage.getItem(r);a&&(r.includes("business")&&(a=JSON.parse(a)),s[r]=a)}}catch(o){n.e(o)}finally{n.f()}return s}function O(e){for(var t=0,s=Object.keys(e);t<s.length;t++){var n=s[t],r="object"===Object(A["a"])(e[n])?JSON.stringify(e[n]):String(e[n]);localStorage.setItem(n,r)}localStorage.setItem("updatedAt","".concat(Math.floor(Date.now()/1e3)))}function w(e){var t=y([e]);return t[e]}var k={businessOne:{name:"Gummy Shop",speedBonusLevels:{10:.5,20:.85,30:.9,40:.95},increasedEarningsPerLevelUp:1.3,levelUpCostIncrease:1.5,baseBusinessStats:{level:0,msPerHarvest:5e3,coinsEarnedPerHarvest:1,isAutomated:!1,coinsToLevelUp:5},costToHireManager:10},businessTwo:{name:"Shaved Ice Shop",speedBonusLevels:{10:.75,20:.85,30:.9,40:.95},increasedEarningsPerLevelUp:1.3,levelUpCostIncrease:1.6,baseBusinessStats:{level:0,msPerHarvest:1e4,coinsEarnedPerHarvest:5,isAutomated:!1,coinsToLevelUp:15},costToHireManager:100},businessThree:{name:"Fancy Gummy Shop",speedBonusLevels:{10:.75,20:.85,30:.9,40:.95},increasedEarningsPerLevelUp:1.2,levelUpCostIncrease:1.9,baseBusinessStats:{level:0,msPerHarvest:2e4,coinsEarnedPerHarvest:20,isAutomated:!1,coinsToLevelUp:20},costToHireManager:110}};function T(e){var t=Date.now()-Math.round(1e3*e.collectedAt);if(!e.isAutomated){var s=e.msPerHarvest-t;return{earnedWhileAway:0,msUntilNextHarvest:s>0?s:0}}var n=Math.round(t/e.msPerHarvest),r=t-n*e.msPerHarvest;return{earnedWhileAway:parseFloat((n*e.coinsEarnedPerHarvest).toFixed(2)),msUntilNextHarvest:r}}function j(e,t){var s=t.level+1,n=k[e].speedBonusLevels[s],r={level:s,coinsEarnedPerHarvest:parseFloat((t.coinsEarnedPerHarvest*k[e].increasedEarningsPerLevelUp).toFixed(2)),coinsToLevelUp:parseFloat((t.coinsToLevelUp*k[e].levelUpCostIncrease).toFixed(2))};return n&&(r["msPerHarvest"]=parseFloat((t.msPerHarvest*n).toFixed(2))),r}var x=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.businessName=k[e.businessId].name,e.costToHireManager=k[e.businessId].costToHireManager,e.stats=Object(g["a"])(Object(g["a"])({},k[e.businessId].baseBusinessStats),{},{collectedAt:0}),e.notReadyToCollect=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=w(this.businessId),t){e.next=3;break}return e.abrupt("return");case 3:for(s=0,n=Object.keys(t);s<n.length;s++)r=n[s],this.stats[r]=t[r];if(a=T(t),i=a.msUntilNextHarvest>0,this.stats.isAutomated&&this.startTimer(this.stats.msPerHarvest),!i){e.next=11;break}return this.notReadyToCollect=!0,this.startTimer(a.msUntilNextHarvest+1e3),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFullImgPath",value:function(){return s("965b")("./".concat(this.businessId,".png"))}},{key:"getFullManagerImgPath",value:function(){return s("48f6")("./".concat(this.businessId,"Manager.gif"))}},{key:"startTimer",value:function(e){var t=this;setTimeout((function(){t.notReadyToCollect=!1,t.stats.isAutomated&&t.emitEarnedCoins()}),e)}},{key:"levelUp",value:function(){if(this.totalCoins<this.stats.coinsToLevelUp)throw new Error("can't level up yet!");var e=j(this.businessId,this.stats);this.emitLevelUp();for(var t=0,s=Object.keys(e);t<s.length;t++){var n=s[t];this.stats[n]=e[n]}O(Object(h["a"])({},this.businessId,this.stats))}},{key:"emitLevelUp",value:function(){this.$emit("updateCoins",parseFloat((-1*this.stats.coinsToLevelUp).toFixed(2))),this.$emit("levelUp")}},{key:"emitEarnedCoins",value:function(){this.stats.collectedAt=Math.round(Date.now()/1e3),O(Object(h["a"])({},this.businessId,this.stats)),this.notReadyToCollect=!0,this.$emit("updateCoins",this.stats.coinsEarnedPerHarvest),this.startTimer(this.stats.msPerHarvest)}},{key:"hireManager",value:function(){this.stats.isAutomated=!0,O(Object(h["a"])({},this.businessId,this.stats)),this.$emit("updateCoins",-1*this.costToHireManager);var e=this.stats.collectedAt?Math.round((this.stats.msPerHarvest-(Date.now()-1e3*this.stats.collectedAt))/1e3):this.stats.msPerHarvest;this.startTimer(e)}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])()],x.prototype,"businessId",void 0),Object(v["a"])([Object(p["b"])()],x.prototype,"totalCoins",void 0),x=Object(v["a"])([p["a"]],x);var I=x,U=I,S=(s("11f4"),s("2877")),B=Object(S["a"])(U,f,b,!1,null,"af16a5d4",null),M=B.exports,P=s("bc3a"),E=s.n(P);function L(){var e=C(),t={baseURL:"http://54.153.54.252:3000/api/",headers:{}};return e&&(t.headers["userId"]=e),t}var R=function(){function e(){Object(c["a"])(this,e),this.requester=E.a.create(L())}return Object(u["a"])(e,[{key:"registerUser",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.requester.post("/users",{nickname:t});case 2:return s=e.sent,e.abrupt("return",s.data.userId);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNickname",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.requester.get("/nickname");case 2:return t=e.sent,e.abrupt("return",t.data.nickname);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getScores",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.requester.get("/scores");case 2:return t=e.sent,e.abrupt("return",t.data.scores);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"postScore",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.requester.post("/scores",{score:t});case 2:return s=e.sent,e.abrupt("return",s.data.rank);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),H=function(e){Object(l["a"])(s,e);var t=Object(d["a"])(s);function s(){var e;return Object(c["a"])(this,s),e=t.apply(this,arguments),e.totalCoins=5,e.totalScore=0,e.ranking=[],e}return Object(u["a"])(s,[{key:"onTotalScoreChanged",value:function(){O({totalScore:this.totalScore})}},{key:"onTotalCoinsChanged",value:function(){O({totalCoins:this.totalCoins})}},{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s,n,r,a,o,c,u,l,d,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=y(),t.totalScore&&(this.totalScore=Number(t.totalScore)),t.totalCoins&&(this.totalCoins=Number(t.totalCoins)),e.prev=3,s=new R,e.next=7,s.getScores();case 7:this.ranking=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("server is offline");case 13:n=Object.keys(t).filter((function(e){return e.includes("business")})),r=0,a=Object(i["a"])(n);try{for(a.s();!(o=a.n()).done;)c=o.value,u=T(t[c]),u.earnedWhileAway>0&&(r=parseFloat((r+u.earnedWhileAway).toFixed(2)))}catch(p){a.e(p)}finally{a.f()}if(!(r>0)){e.next=21;break}return e.next=20,this.$alert("You earned $".concat(r," while you were away!"));case 20:this.updateCoins(r);case 21:if(t.userId){e.next=36;break}return e.next=24,this.$prompt("Please enter a nickname for rankings");case 24:return l=e.sent,e.prev=25,d=new R,e.next=29,d.registerUser(l);case 29:v=e.sent,O({userId:v}),e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](25),console.error("server is offline");case 36:case"end":return e.stop()}}),e,this,[[3,10],[25,33]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCoins",value:function(e){this.totalCoins=parseFloat((this.totalCoins+e).toFixed(2))}},{key:"levelUp",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.totalScore++,t=new R,e.next=4,t.postScore(this.totalScore);case 4:return e.next=6,t.getScores();case 6:this.ranking=e.sent;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),s}(p["c"]);Object(v["a"])([Object(p["d"])("totalScore")],H.prototype,"onTotalScoreChanged",null),Object(v["a"])([Object(p["d"])("totalCoins")],H.prototype,"onTotalCoinsChanged",null),H=Object(v["a"])([Object(p["a"])({components:{Business:M}})],H);var _=H,D=_,F=(s("034f"),Object(S["a"])(D,r,a,!1,null,null,null)),N=F.exports,Q=s("5f5b"),Y=(s("ab8b"),s("2dd8"),s("683f"));n["default"].use(Y["a"]),n["default"].use(Q["a"]),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(N)}}).$mount("#app")},d8f9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABI0lEQVRYR+2WTQ4DIQiF8Zrt1mPNtr2mDXZoiIL4Q2uajLsJju/zgWiAzSNs1ocLoNeBJKRK+3dkbncKUjoOgBgzx6msAtDcJwDc3+TqRrsdEADU+iULPAA+dkq+WieIAdDUasOWAykLo/00zjRY4hhHABpaKvoBBoRLuFYq/gSAbYlsvQk50GLrDmwHoCIs6oAXmeQIca87oABQpbfEac76KcCVmAM83z11MQ2AujNNSLBfbMnWMcz6TgCilgWQtZ0AphyobsHyUiI43IkUo/qYroFq0eJatgDWT0EpuBug7MDcAS221ojYjnuuYGnOBeDmgNQ0floDdNZDjLk55e8z6a2YqwO8K1YArAIx9vB4E85WvvLf8KvYWb9ezrqMvg7wAvP0pSFySTN3AAAAAElFTkSuQmCC"},f4e2:function(e,t,s){e.exports=s.p+"img/businessTwoManager.37fa1c0b.gif"}});
//# sourceMappingURL=app.9343044f.js.map